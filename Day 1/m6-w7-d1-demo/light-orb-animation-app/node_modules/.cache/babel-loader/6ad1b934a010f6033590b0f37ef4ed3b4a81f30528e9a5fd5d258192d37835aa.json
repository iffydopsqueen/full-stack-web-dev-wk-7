{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport { vec3, vec4, mat4 } from 'gl-matrix';\nimport throttle from 'lodash.throttle';\nexport var OrbitCamera = /*#__PURE__*/function () {\n  function OrbitCamera(fov, aspect) {\n    var near = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n    var far = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1000;\n    _classCallCheck(this, OrbitCamera);\n    this.projection = void 0;\n    this.view = void 0;\n    this.matrix = void 0;\n    this.position = vec3.create();\n    this.up = vec3.create();\n    this.right = vec3.create();\n    this.normal = vec3.create();\n    this.userRotate = true;\n    this.userRotateX = true;\n    this.userRotateY = true;\n    this.userDolly = true;\n    this.rotX = 0;\n    this.rotY = 0;\n    this.steps = 0;\n    this.listeners = [];\n    this.matrix = mat4.create();\n    this.view = mat4.create();\n    mat4.invert(this.view, this.matrix);\n    var radians = fov * Math.PI / 180.0;\n    this.projection = mat4.create();\n    mat4.perspective(this.projection, radians, aspect, near, far);\n  }\n  _createClass(OrbitCamera, [{\n    key: \"setProjection\",\n    value: function setProjection(fov, aspect) {\n      var near = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n      var far = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1000;\n      var radians = fov * Math.PI / 180.0;\n      mat4.perspective(this.projection, radians, aspect, near, far);\n    }\n  }, {\n    key: \"dolly\",\n    value: function dolly(delta) {\n      if (this.userDolly) {\n        var next = vec3.create();\n        var step = delta - this.steps;\n        next[0] = this.position[0];\n        next[1] = this.position[1];\n        next[2] = this.position[2] - step;\n        this.steps = delta;\n        this.setPosition(next);\n      }\n    }\n  }, {\n    key: \"setPosition\",\n    value: function setPosition(position) {\n      this.position[0] = position[0] || 0;\n      this.position[1] = position[1] || 0;\n      this.position[2] = position[2] || 0;\n      this.update();\n    }\n  }, {\n    key: \"upRightNormal\",\n    value: function upRightNormal() {\n      var up = vec4.create();\n      vec4.set(up, 0, 1, 0, 0);\n      vec4.transformMat4(up, up, this.matrix);\n      vec3.copy(this.up, up);\n      var right = vec4.create();\n      vec4.set(right, 1, 0, 0, 0);\n      vec4.transformMat4(right, right, this.matrix);\n      vec3.copy(this.right, right);\n      var normal = vec4.create();\n      vec4.set(normal, 0, 0, 1, 0);\n      vec4.transformMat4(normal, normal, this.matrix);\n      vec3.copy(this.normal, normal);\n    }\n  }, {\n    key: \"setRotationX\",\n    value: function setRotationX(rotX) {\n      this.rotX = rotX;\n      if (this.rotX > 360 || this.rotX < -360) {\n        this.rotX = this.rotX % 360;\n      }\n      this.update();\n    }\n  }, {\n    key: \"incRotationX\",\n    value: function incRotationX(rotX) {\n      if (this.userRotate && this.userRotateX) {\n        this.rotX += rotX;\n        if (this.rotX > 360 || this.rotX < -360) {\n          this.rotX = this.rotX % 360;\n        }\n        this.update();\n      }\n    }\n  }, {\n    key: \"setRotationY\",\n    value: function setRotationY(rotY) {\n      this.rotY = rotY;\n      if (this.rotY > 360 || this.rotY < -360) {\n        this.rotY = this.rotY % 360;\n      }\n      this.update();\n    }\n  }, {\n    key: \"incRotationY\",\n    value: function incRotationY(rotY) {\n      if (this.userRotate && this.userRotateY) {\n        this.rotY += rotY;\n        if (this.rotY > 360 || this.rotY < -360) {\n          this.rotY = this.rotY % 360;\n        }\n        this.update();\n      }\n    }\n  }, {\n    key: \"addListener\",\n    value: function addListener(func) {\n      var wait = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 16;\n      var listener = throttle(func, wait);\n      this.listeners.push({\n        listener: listener,\n        id: func\n      });\n    }\n  }, {\n    key: \"removeListener\",\n    value: function removeListener(func) {\n      var index = this.listeners.findIndex(function (d) {\n        return d.id === func;\n      });\n      if (index !== -1) {\n        this.listeners.splice(index, 1);\n      }\n    }\n  }, {\n    key: \"exportView\",\n    value: function exportView() {\n      return mat4.clone(this.view);\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      var _this = this;\n      mat4.identity(this.matrix);\n      mat4.rotateX(this.matrix, this.matrix, this.rotX * Math.PI / 180);\n      mat4.rotateY(this.matrix, this.matrix, this.rotY * Math.PI / 180);\n      mat4.translate(this.matrix, this.matrix, this.position);\n      mat4.invert(this.view, this.matrix);\n      this.upRightNormal();\n      this.listeners.forEach(function (item) {\n        item.listener(_this);\n      });\n    }\n  }]);\n  return OrbitCamera;\n}();","map":{"version":3,"names":["vec3","vec4","mat4","throttle","OrbitCamera","fov","aspect","near","arguments","length","undefined","far","_classCallCheck","projection","view","matrix","position","create","up","right","normal","userRotate","userRotateX","userRotateY","userDolly","rotX","rotY","steps","listeners","invert","radians","Math","PI","perspective","_createClass","key","value","setProjection","dolly","delta","next","step","setPosition","update","upRightNormal","set","transformMat4","copy","setRotationX","incRotationX","setRotationY","incRotationY","addListener","func","wait","listener","push","id","removeListener","index","findIndex","d","splice","exportView","clone","_this","identity","rotateX","rotateY","translate","forEach","item"],"sources":["/Users/ifeoma/Documents/Documents - Ifeomaâ€™s MacBook Air/Master's/Westcliff/SPRG24/WEB 603 - Full Stack Web Development/full-stack-web-dev-wk-7/Day 1/m6-w7-d1-demo/light-orb-animation-app/node_modules/@react-vertex/orbit-camera/src/OrbitCamera.ts"],"sourcesContent":["import { vec3, vec4, mat4 } from 'gl-matrix'\nimport throttle from 'lodash.throttle'\n\ntype CameraListener = (c: OrbitCamera) => void\n\ntype ListenerItem = {\n  listener: CameraListener\n  id: CameraListener\n}\n\nexport class OrbitCamera {\n  projection: mat4\n  view: mat4\n  matrix: mat4\n\n  constructor(\n    fov: number,\n    aspect: number,\n    near: number = 1,\n    far: number = 1000,\n  ) {\n    this.matrix = mat4.create()\n\n    this.view = mat4.create()\n    mat4.invert(this.view, this.matrix)\n\n    const radians = (fov * Math.PI) / 180.0\n\n    this.projection = mat4.create()\n    mat4.perspective(this.projection, radians, aspect, near, far)\n  }\n\n  position = vec3.create()\n\n  up = vec3.create()\n  right = vec3.create()\n  normal = vec3.create()\n\n  userRotate = true\n  userRotateX = true\n  userRotateY = true\n\n  userDolly = true\n\n  rotX = 0\n  rotY = 0\n\n  steps = 0\n\n  listeners: ListenerItem[] = []\n\n  setProjection(\n    fov: number,\n    aspect: number,\n    near: number = 1,\n    far: number = 1000,\n  ) {\n    const radians = (fov * Math.PI) / 180.0\n    mat4.perspective(this.projection, radians, aspect, near, far)\n  }\n\n  dolly(delta: number) {\n    if (this.userDolly) {\n      const next = vec3.create()\n      const step = delta - this.steps\n\n      next[0] = this.position[0]\n      next[1] = this.position[1]\n      next[2] = this.position[2] - step\n\n      this.steps = delta\n      this.setPosition(next)\n    }\n  }\n\n  setPosition(position: vec3) {\n    this.position[0] = position[0] || 0\n    this.position[1] = position[1] || 0\n    this.position[2] = position[2] || 0\n\n    this.update()\n  }\n\n  upRightNormal() {\n    const up = vec4.create()\n    vec4.set(up, 0, 1, 0, 0)\n    vec4.transformMat4(up, up, this.matrix)\n    vec3.copy(this.up, up as vec3)\n\n    const right = vec4.create()\n    vec4.set(right, 1, 0, 0, 0)\n    vec4.transformMat4(right, right, this.matrix)\n    vec3.copy(this.right, right as vec3)\n\n    const normal = vec4.create()\n    vec4.set(normal, 0, 0, 1, 0)\n    vec4.transformMat4(normal, normal, this.matrix)\n    vec3.copy(this.normal, normal as vec3)\n  }\n\n  setRotationX(rotX: number) {\n    this.rotX = rotX\n\n    if (this.rotX > 360 || this.rotX < -360) {\n      this.rotX = this.rotX % 360\n    }\n\n    this.update()\n  }\n\n  incRotationX(rotX: number) {\n    if (this.userRotate && this.userRotateX) {\n      this.rotX += rotX\n\n      if (this.rotX > 360 || this.rotX < -360) {\n        this.rotX = this.rotX % 360\n      }\n\n      this.update()\n    }\n  }\n\n  setRotationY(rotY: number) {\n    this.rotY = rotY\n\n    if (this.rotY > 360 || this.rotY < -360) {\n      this.rotY = this.rotY % 360\n    }\n\n    this.update()\n  }\n\n  incRotationY(rotY: number) {\n    if (this.userRotate && this.userRotateY) {\n      this.rotY += rotY\n\n      if (this.rotY > 360 || this.rotY < -360) {\n        this.rotY = this.rotY % 360\n      }\n\n      this.update()\n    }\n  }\n\n  addListener(func: CameraListener, wait = 16) {\n    const listener = throttle(func, wait)\n    this.listeners.push({ listener, id: func })\n  }\n\n  removeListener(func: CameraListener) {\n    const index = this.listeners.findIndex(d => {\n      return d.id === func\n    })\n\n    if (index !== -1) {\n      this.listeners.splice(index, 1)\n    }\n  }\n\n  exportView() {\n    return mat4.clone(this.view)\n  }\n\n  update() {\n    mat4.identity(this.matrix)\n\n    mat4.rotateX(this.matrix, this.matrix, (this.rotX * Math.PI) / 180)\n    mat4.rotateY(this.matrix, this.matrix, (this.rotY * Math.PI) / 180)\n    mat4.translate(this.matrix, this.matrix, this.position)\n\n    mat4.invert(this.view, this.matrix)\n\n    this.upRightNormal()\n\n    this.listeners.forEach(item => {\n      item.listener(this)\n    })\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}