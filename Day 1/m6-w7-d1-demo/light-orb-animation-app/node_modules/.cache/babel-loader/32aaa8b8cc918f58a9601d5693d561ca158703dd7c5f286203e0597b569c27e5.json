{"ast":null,"code":"import { useMemo, useEffect } from 'react';\nimport { useSceneNode } from '..';\nexport function useUniformSampler2d(gl, program, name, texture) {\n  var scene = useSceneNode();\n  var unit = useMemo(function () {\n    return scene.getTextureUnit(texture);\n  }, [scene, texture]);\n  var memoized = useMemo(function () {\n    var location = gl.getUniformLocation(program, name);\n    gl.uniform1i(location, unit);\n    return location;\n  }, [gl, program, name, unit]);\n  useEffect(function () {\n    return function () {\n      return scene.releaseTextureUnit(unit);\n    };\n  }, [scene, unit]);\n  return [unit, memoized];\n} // *************************************************\n// Matrix Uniforms\n// *************************************************\n\nfunction useMatrixUniform(gl, program, name, value, type) {\n  var memoized = useMemo(function () {\n    return gl.getUniformLocation(program, name);\n  }, [gl, program, name]);\n  useEffect(function () {\n    gl.useProgram(program);\n    gl[type](memoized, false, value);\n  }, [gl, program, type, memoized, value]);\n  return memoized;\n}\nexport function useUniformMatrix2fv(gl, program, name, value) {\n  return useMatrixUniform(gl, program, name, value, 'uniformMatrix2fv');\n}\nexport function useUniformMatrix3fv(gl, program, name, value) {\n  return useMatrixUniform(gl, program, name, value, 'uniformMatrix3fv');\n}\nexport function useUniformMatrix4fv(gl, program, name, value) {\n  return useMatrixUniform(gl, program, name, value, 'uniformMatrix4fv');\n} // *************************************************\n// Number Uniforms\n// *************************************************\n\nfunction useNumberUniform(gl, program, name, value, type) {\n  var memoized = useMemo(function () {\n    return gl.getUniformLocation(program, name);\n  }, [gl, program, name]);\n  useEffect(function () {\n    gl.useProgram(program);\n    gl[type](memoized, value);\n  }, [gl, program, type, memoized, value]);\n  return memoized;\n}\nexport function useUniform1f(gl, program, name, value) {\n  return useNumberUniform(gl, program, name, value, 'uniform1f');\n}\nexport function useUniform1i(gl, program, name, value) {\n  return useNumberUniform(gl, program, name, value, 'uniform1i');\n} // *************************************************\n// Vector Uniforms\n// *************************************************\n\nfunction useVectorUniform(gl, program, name, value, type) {\n  var memoized = useMemo(function () {\n    return gl.getUniformLocation(program, name);\n  }, [gl, program, name]);\n  useEffect(function () {\n    gl.useProgram(program);\n    gl[type](memoized, value);\n  }, [gl, program, type, memoized, value]);\n  return memoized;\n}\nexport function useUniform1fv(gl, program, name, value) {\n  return useVectorUniform(gl, program, name, value, 'uniform1fv');\n}\nexport function useUniform1iv(gl, program, name, value) {\n  return useVectorUniform(gl, program, name, value, 'uniform1iv');\n}\nexport function useUniform2fv(gl, program, name, value) {\n  return useVectorUniform(gl, program, name, value, 'uniform2fv');\n}\nexport function useUniform2iv(gl, program, name, value) {\n  return useVectorUniform(gl, program, name, value, 'uniform2iv');\n}\nexport function useUniform3fv(gl, program, name, value) {\n  return useVectorUniform(gl, program, name, value, 'uniform3fv');\n}\nexport function useUniform3iv(gl, program, name, value) {\n  return useVectorUniform(gl, program, name, value, 'uniform3iv');\n}\nexport function useUniform4fv(gl, program, name, value) {\n  return useVectorUniform(gl, program, name, value, 'uniform4fv');\n}\nexport function useUniform4iv(gl, program, name, value) {\n  return useVectorUniform(gl, program, name, value, 'uniform4iv');\n}","map":{"version":3,"names":["useMemo","useEffect","useSceneNode","useUniformSampler2d","gl","program","name","texture","scene","unit","getTextureUnit","memoized","location","getUniformLocation","uniform1i","releaseTextureUnit","useMatrixUniform","value","type","useProgram","useUniformMatrix2fv","useUniformMatrix3fv","useUniformMatrix4fv","useNumberUniform","useUniform1f","useUniform1i","useVectorUniform","useUniform1fv","useUniform1iv","useUniform2fv","useUniform2iv","useUniform3fv","useUniform3iv","useUniform4fv","useUniform4iv"],"sources":["/Users/ifeoma/Documents/Documents - Ifeomaâ€™s MacBook Air/Master's/Westcliff/SPRG24/WEB 603 - Full Stack Web Development/full-stack-web-dev-wk-7/Day 1/m6-w7-d1-demo/light-orb-animation-app/node_modules/@react-vertex/core/src/hooks/uniforms.ts"],"sourcesContent":["import { mat2, mat3, mat4 } from 'gl-matrix'\nimport { useMemo, useEffect } from 'react'\nimport { useSceneNode } from '..'\n\nimport { GLContext } from '../types'\n\nexport function useUniformSampler2d(\n  gl: GLContext,\n  program: WebGLProgram,\n  name: string,\n  texture: WebGLTexture | null,\n) {\n  const scene = useSceneNode()\n\n  const unit = useMemo(() => {\n    return scene.getTextureUnit(texture)\n  }, [scene, texture])\n\n  const memoized = useMemo(() => {\n    const location = gl.getUniformLocation(program, name)\n    gl.uniform1i(location, unit)\n\n    return location\n  }, [gl, program, name, unit])\n\n  useEffect(() => {\n    return () => scene.releaseTextureUnit(unit)\n  }, [scene, unit])\n\n  return [unit, memoized]\n}\n\n// *************************************************\n// Matrix Uniforms\n// *************************************************\n\ntype MatrixUniformType =\n  | 'uniformMatrix2fv'\n  | 'uniformMatrix3fv'\n  | 'uniformMatrix4fv'\n\nfunction useMatrixUniform(\n  gl: GLContext,\n  program: WebGLProgram,\n  name: string,\n  value: any,\n  type: MatrixUniformType,\n) {\n  const memoized = useMemo(() => {\n    return gl.getUniformLocation(program, name)\n  }, [gl, program, name])\n\n  useEffect(() => {\n    gl.useProgram(program)\n    gl[type](memoized, false, value)\n  }, [gl, program, type, memoized, value])\n\n  return memoized\n}\n\nexport function useUniformMatrix2fv(\n  gl: GLContext,\n  program: WebGLProgram,\n  name: string,\n  value: mat2,\n) {\n  return useMatrixUniform(gl, program, name, value, 'uniformMatrix2fv')\n}\n\nexport function useUniformMatrix3fv(\n  gl: GLContext,\n  program: WebGLProgram,\n  name: string,\n  value: mat3,\n) {\n  return useMatrixUniform(gl, program, name, value, 'uniformMatrix3fv')\n}\n\nexport function useUniformMatrix4fv(\n  gl: GLContext,\n  program: WebGLProgram,\n  name: string,\n  value: mat4,\n) {\n  return useMatrixUniform(gl, program, name, value, 'uniformMatrix4fv')\n}\n\n// *************************************************\n// Number Uniforms\n// *************************************************\n\ntype NumberUniformType = 'uniform1f' | 'uniform1i'\n\nfunction useNumberUniform(\n  gl: GLContext,\n  program: WebGLProgram,\n  name: string,\n  value: any,\n  type: NumberUniformType,\n) {\n  const memoized = useMemo(() => {\n    return gl.getUniformLocation(program, name)\n  }, [gl, program, name])\n\n  useEffect(() => {\n    gl.useProgram(program)\n    gl[type](memoized, value)\n  }, [gl, program, type, memoized, value])\n\n  return memoized\n}\n\nexport function useUniform1f(\n  gl: GLContext,\n  program: WebGLProgram,\n  name: string,\n  value: number,\n) {\n  return useNumberUniform(gl, program, name, value, 'uniform1f')\n}\n\nexport function useUniform1i(\n  gl: GLContext,\n  program: WebGLProgram,\n  name: string,\n  value: number,\n) {\n  return useNumberUniform(gl, program, name, value, 'uniform1i')\n}\n\n// *************************************************\n// Vector Uniforms\n// *************************************************\n\ntype VectorUniformType =\n  | 'uniform1fv'\n  | 'uniform1iv'\n  | 'uniform2fv'\n  | 'uniform2iv'\n  | 'uniform3fv'\n  | 'uniform3iv'\n  | 'uniform4fv'\n  | 'uniform4iv'\n\nfunction useVectorUniform(\n  gl: GLContext,\n  program: WebGLProgram,\n  name: string,\n  value: number[],\n  type: VectorUniformType,\n) {\n  const memoized = useMemo(() => {\n    return gl.getUniformLocation(program, name)\n  }, [gl, program, name])\n\n  useEffect(() => {\n    gl.useProgram(program)\n    gl[type](memoized, value)\n  }, [gl, program, type, memoized, value])\n\n  return memoized\n}\n\nexport function useUniform1fv(\n  gl: GLContext,\n  program: WebGLProgram,\n  name: string,\n  value: number[],\n) {\n  return useVectorUniform(gl, program, name, value, 'uniform1fv')\n}\n\nexport function useUniform1iv(\n  gl: GLContext,\n  program: WebGLProgram,\n  name: string,\n  value: number[],\n) {\n  return useVectorUniform(gl, program, name, value, 'uniform1iv')\n}\n\nexport function useUniform2fv(\n  gl: GLContext,\n  program: WebGLProgram,\n  name: string,\n  value: number[],\n) {\n  return useVectorUniform(gl, program, name, value, 'uniform2fv')\n}\n\nexport function useUniform2iv(\n  gl: GLContext,\n  program: WebGLProgram,\n  name: string,\n  value: number[],\n) {\n  return useVectorUniform(gl, program, name, value, 'uniform2iv')\n}\n\nexport function useUniform3fv(\n  gl: GLContext,\n  program: WebGLProgram,\n  name: string,\n  value: number[],\n) {\n  return useVectorUniform(gl, program, name, value, 'uniform3fv')\n}\n\nexport function useUniform3iv(\n  gl: GLContext,\n  program: WebGLProgram,\n  name: string,\n  value: number[],\n) {\n  return useVectorUniform(gl, program, name, value, 'uniform3iv')\n}\n\nexport function useUniform4fv(\n  gl: GLContext,\n  program: WebGLProgram,\n  name: string,\n  value: number[],\n) {\n  return useVectorUniform(gl, program, name, value, 'uniform4fv')\n}\n\nexport function useUniform4iv(\n  gl: GLContext,\n  program: WebGLProgram,\n  name: string,\n  value: number[],\n) {\n  return useVectorUniform(gl, program, name, value, 'uniform4iv')\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}