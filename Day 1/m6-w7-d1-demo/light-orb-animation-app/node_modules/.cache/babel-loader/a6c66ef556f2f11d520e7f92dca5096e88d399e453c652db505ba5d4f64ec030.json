{"ast":null,"code":"import { useMemo, useEffect } from 'react';\nimport warn from 'warning';\nvar prefix = 'react-vertex:';\nfunction log(source) {\n  if (typeof source !== 'string') {\n    warn(false, \"\".concat(prefix, \" Shader source should be a string!\"));\n    return '';\n  }\n  var lines = source.split('\\n');\n  for (var i = 0; i < lines.length; i++) {\n    lines[i] = i + 1 + ': ' + lines[i];\n  }\n  return lines.join('\\n');\n}\nfunction useShader(gl, source) {\n  var isVertShader = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var memoized = useMemo(function () {\n    var _gl$getShaderPrecisio, _gl$getShaderPrecisio2;\n    if (source.constructor === WebGLShader) {\n      return source;\n    }\n    var shaderType = isVertShader ? gl.VERTEX_SHADER : gl.FRAGMENT_SHADER;\n    var shader = gl.createShader(shaderType);\n    var precision = 'lowp'; // prettier-ignore\n\n    if ((_gl$getShaderPrecisio = gl.getShaderPrecisionFormat(shaderType, gl.HIGH_FLOAT)) !== null && _gl$getShaderPrecisio !== void 0 && _gl$getShaderPrecisio.precision || 0 > 0) {\n      precision = 'highp';\n    } else if ((_gl$getShaderPrecisio2 = gl.getShaderPrecisionFormat(shaderType, gl.MEDIUM_FLOAT)) !== null && _gl$getShaderPrecisio2 !== void 0 && _gl$getShaderPrecisio2.precision || 0 > 0) {\n      precision = 'mediump';\n    }\n    var prepped = source.replace('<<FLOAT_PRECISION>>', precision);\n    if (shader) {\n      gl.shaderSource(shader, prepped);\n      gl.compileShader(shader);\n      warn(gl.getShaderParameter(shader, gl.COMPILE_STATUS), \"\".concat(prefix, \"\\n\").concat(gl.getShaderInfoLog(shader), \"\\n\").concat(log(prepped)));\n    } else {\n      warn(false, \"\".concat(prefix, \"\\nShader could not be compiled. Source:\\n\").concat(source));\n    }\n    return shader;\n  }, [gl, source, isVertShader]);\n  return memoized;\n}\nexport function useProgram(gl, vertSource, fragSource) {\n  var vert = useShader(gl, vertSource, true);\n  var frag = useShader(gl, fragSource, false);\n  var memoized = useMemo(function () {\n    var program = gl.createProgram();\n    if (program && vert && frag) {\n      gl.attachShader(program, vert);\n      gl.attachShader(program, frag);\n      gl.linkProgram(program);\n      warn(gl.getProgramParameter(program, gl.LINK_STATUS), \"\".concat(prefix, \" Error creating program\"));\n    } else {\n      throw Error('Program could not be created.');\n    }\n    return program;\n  }, [gl, vert, frag]);\n  useEffect(function () {\n    return function () {\n      return gl.deleteProgram(memoized);\n    };\n  }, [gl, memoized]);\n  gl.useProgram(memoized);\n  return memoized;\n}\nexport function useProgramUniforms(gl, program) {\n  var memoized = useMemo(function () {\n    var uniforms = {};\n    var uniformCount = gl.getProgramParameter(program, gl.ACTIVE_UNIFORMS);\n    for (var i = 0; i < uniformCount; i++) {\n      var _gl$getActiveUniform;\n      var _name = (_gl$getActiveUniform = gl.getActiveUniform(program, i)) === null || _gl$getActiveUniform === void 0 ? void 0 : _gl$getActiveUniform.name;\n      if (_name) {\n        uniforms[_name] = gl.getUniformLocation(program, _name);\n      }\n    }\n    return uniforms;\n  }, [gl, program]);\n  return memoized;\n}","map":{"version":3,"names":["useMemo","useEffect","warn","prefix","log","source","concat","lines","split","i","length","join","useShader","gl","isVertShader","arguments","undefined","memoized","_gl$getShaderPrecisio","_gl$getShaderPrecisio2","constructor","WebGLShader","shaderType","VERTEX_SHADER","FRAGMENT_SHADER","shader","createShader","precision","getShaderPrecisionFormat","HIGH_FLOAT","MEDIUM_FLOAT","prepped","replace","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","useProgram","vertSource","fragSource","vert","frag","program","createProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","Error","deleteProgram","useProgramUniforms","uniforms","uniformCount","ACTIVE_UNIFORMS","_gl$getActiveUniform","_name","getActiveUniform","name","getUniformLocation"],"sources":["/Users/ifeoma/Documents/Documents - Ifeomaâ€™s MacBook Air/Master's/Westcliff/SPRG24/WEB 603 - Full Stack Web Development/full-stack-web-dev-wk-7/Day 1/m6-w7-d1-demo/light-orb-animation-app/node_modules/@react-vertex/core/src/hooks/shaders.ts"],"sourcesContent":["import { useMemo, useEffect } from 'react'\nimport warn from 'warning'\n\nimport { GLContext } from '../types'\n\nconst prefix = 'react-vertex:'\n\nfunction log(source: string) {\n  if (typeof source !== 'string') {\n    warn(false, `${prefix} Shader source should be a string!`)\n    return ''\n  }\n\n  const lines = source.split('\\n')\n\n  for (let i = 0; i < lines.length; i++) {\n    lines[i] = i + 1 + ': ' + lines[i]\n  }\n\n  return lines.join('\\n')\n}\n\nfunction useShader(gl: GLContext, source: string, isVertShader = false) {\n  const memoized = useMemo(() => {\n    if (source.constructor === WebGLShader) {\n      return source\n    }\n\n    const shaderType = isVertShader ? gl.VERTEX_SHADER : gl.FRAGMENT_SHADER\n    const shader = gl.createShader(shaderType)\n\n    let precision = 'lowp'\n\n    // prettier-ignore\n    if (gl.getShaderPrecisionFormat(shaderType, gl.HIGH_FLOAT)?.precision || 0 > 0) {\n      precision = 'highp'\n    } else if (gl.getShaderPrecisionFormat(shaderType, gl.MEDIUM_FLOAT)?.precision || 0 > 0) {\n      precision = 'mediump'\n    }\n\n    const prepped = source.replace('<<FLOAT_PRECISION>>', precision)\n\n    if (shader) {\n      gl.shaderSource(shader, prepped)\n      gl.compileShader(shader)\n\n      warn(\n        gl.getShaderParameter(shader, gl.COMPILE_STATUS),\n        `${prefix}\\n${gl.getShaderInfoLog(shader)}\\n${log(prepped)}`,\n      )\n    } else {\n      warn(false, `${prefix}\\nShader could not be compiled. Source:\\n${source}`)\n    }\n\n    return shader\n  }, [gl, source, isVertShader])\n\n  return memoized\n}\n\nexport function useProgram(\n  gl: GLContext,\n  vertSource: string,\n  fragSource: string,\n) {\n  const vert = useShader(gl, vertSource, true)\n  const frag = useShader(gl, fragSource, false)\n\n  const memoized = useMemo(() => {\n    const program = gl.createProgram()\n\n    if (program && vert && frag) {\n      gl.attachShader(program, vert)\n      gl.attachShader(program, frag)\n      gl.linkProgram(program)\n\n      warn(\n        gl.getProgramParameter(program, gl.LINK_STATUS),\n        `${prefix} Error creating program`,\n      )\n    } else {\n      throw Error('Program could not be created.')\n    }\n\n    return program\n  }, [gl, vert, frag])\n\n  useEffect(() => {\n    return () => gl.deleteProgram(memoized)\n  }, [gl, memoized])\n\n  gl.useProgram(memoized)\n\n  return memoized\n}\n\nexport function useProgramUniforms(gl: GLContext, program: WebGLProgram) {\n  const memoized = useMemo(() => {\n    const uniforms: { [name: string]: WebGLUniformLocation | null } = {}\n\n    const uniformCount = gl.getProgramParameter(program, gl.ACTIVE_UNIFORMS)\n\n    for (let i = 0; i < uniformCount; i++) {\n      const name = gl.getActiveUniform(program, i)?.name\n\n      if (name) {\n        uniforms[name] = gl.getUniformLocation(program, name)\n      }\n    }\n\n    return uniforms\n  }, [gl, program])\n\n  return memoized\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}