{"ast":null,"code":"import { useEffect, useMemo } from 'react';\nimport { useDataTexture } from './textures';\nimport warn from 'warning';\nvar prefix = 'react-vertex:';\nexport function useFramebuffer(gl) {\n  var memoized = useMemo(function () {\n    var buffer = gl.createFramebuffer();\n    warn(!!buffer, \"\".concat(prefix, \" Failed to create frame buffer.\"));\n    return buffer;\n  }, [gl]);\n  useEffect(function () {\n    return function () {\n      return gl.deleteFramebuffer(memoized);\n    };\n  }, [gl, memoized]);\n  return memoized;\n}\nexport function useFBO(gl, width, height, getTexOpts) {\n  var tex = useDataTexture(gl, null, width, height, getTexOpts);\n  var fbo = useFramebuffer(gl);\n  var memoized = useMemo(function () {\n    var attachment = gl.COLOR_ATTACHMENT0;\n    gl.bindFramebuffer(gl.FRAMEBUFFER, fbo);\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, attachment, gl.TEXTURE_2D, tex, 0);\n    return {\n      tex: tex,\n      fbo: fbo,\n      attach: function attach(unit) {\n        gl.activeTexture(gl.TEXTURE0 + unit);\n        gl.bindTexture(gl.TEXTURE_2D, tex);\n        return unit;\n      }\n    };\n  }, [gl, fbo, tex]);\n  return memoized;\n}\nexport function useDoubleFBO(gl, width, height, getTexOpts) {\n  var frameBuffer1 = useFBO(gl, width, height, getTexOpts);\n  var frameBuffer2 = useFBO(gl, width, height, getTexOpts);\n  var memoized = useMemo(function () {\n    var fbo1 = frameBuffer1;\n    var fbo2 = frameBuffer2;\n    return {\n      get read() {\n        return fbo1;\n      },\n      set read(value) {\n        fbo1 = value;\n      },\n      get write() {\n        return fbo2;\n      },\n      set write(value) {\n        fbo2 = value;\n      },\n      swap: function swap() {\n        var temp = fbo1;\n        fbo1 = fbo2;\n        fbo2 = temp;\n      }\n    };\n  }, [frameBuffer1, frameBuffer2]);\n  return memoized;\n}","map":{"version":3,"names":["useEffect","useMemo","useDataTexture","warn","prefix","useFramebuffer","gl","memoized","buffer","createFramebuffer","concat","deleteFramebuffer","useFBO","width","height","getTexOpts","tex","fbo","attachment","COLOR_ATTACHMENT0","bindFramebuffer","FRAMEBUFFER","framebufferTexture2D","TEXTURE_2D","attach","unit","activeTexture","TEXTURE0","bindTexture","useDoubleFBO","frameBuffer1","frameBuffer2","fbo1","fbo2","read","value","write","swap","temp"],"sources":["/Users/ifeoma/Documents/Documents - Ifeomaâ€™s MacBook Air/Master's/Westcliff/SPRG24/WEB 603 - Full Stack Web Development/full-stack-web-dev-wk-7/Day 1/m6-w7-d1-demo/light-orb-animation-app/node_modules/@react-vertex/core/src/hooks/framebuffers.ts"],"sourcesContent":["import { useEffect, useMemo } from 'react'\nimport { useDataTexture } from './textures'\nimport warn from 'warning'\n\nimport { GLContext, GetTextureOptions } from '../types'\n\nconst prefix = 'react-vertex:'\n\nexport function useFramebuffer(gl: GLContext) {\n  const memoized = useMemo(() => {\n    const buffer = gl.createFramebuffer()\n\n    warn(!!buffer, `${prefix} Failed to create frame buffer.`)\n\n    return buffer\n  }, [gl])\n\n  useEffect(() => {\n    return () => gl.deleteFramebuffer(memoized)\n  }, [gl, memoized])\n\n  return memoized\n}\n\nexport function useFBO(\n  gl: GLContext,\n  width: number,\n  height: number,\n  getTexOpts: GetTextureOptions,\n) {\n  const tex = useDataTexture(gl, null, width, height, getTexOpts)\n  const fbo = useFramebuffer(gl)\n\n  const memoized = useMemo(() => {\n    const attachment = gl.COLOR_ATTACHMENT0\n    gl.bindFramebuffer(gl.FRAMEBUFFER, fbo)\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, attachment, gl.TEXTURE_2D, tex, 0)\n\n    return {\n      tex,\n      fbo,\n      attach(unit: number) {\n        gl.activeTexture(gl.TEXTURE0 + unit)\n        gl.bindTexture(gl.TEXTURE_2D, tex)\n        return unit\n      },\n    }\n  }, [gl, fbo, tex])\n\n  return memoized\n}\n\nexport function useDoubleFBO(\n  gl: GLContext,\n  width: number,\n  height: number,\n  getTexOpts: GetTextureOptions,\n) {\n  const frameBuffer1 = useFBO(gl, width, height, getTexOpts)\n  const frameBuffer2 = useFBO(gl, width, height, getTexOpts)\n\n  const memoized = useMemo(() => {\n    let fbo1 = frameBuffer1\n    let fbo2 = frameBuffer2\n\n    return {\n      get read() {\n        return fbo1\n      },\n      set read(value) {\n        fbo1 = value\n      },\n      get write() {\n        return fbo2\n      },\n      set write(value) {\n        fbo2 = value\n      },\n      swap() {\n        const temp = fbo1\n        fbo1 = fbo2\n        fbo2 = temp\n      },\n    }\n  }, [frameBuffer1, frameBuffer2])\n\n  return memoized\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}