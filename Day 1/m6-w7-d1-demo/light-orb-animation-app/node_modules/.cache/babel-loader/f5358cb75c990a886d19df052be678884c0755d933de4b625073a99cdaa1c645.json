{"ast":null,"code":"import { useContext, useMemo, useEffect } from 'react';\nimport ReactVertexContext from '../Context';\nimport { ctxErr, useUniform3fv } from '..';\nvar white = [1, 1, 1];\nvar origin = [0, 0, 0];\nexport function usePointLight() {\n  var color = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : white;\n  var position = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : origin;\n  var context = useContext(ReactVertexContext);\n  if (!context) {\n    throw new Error(\"usePointLight \".concat(ctxErr));\n  }\n  var pointLights = useMemo(function () {\n    if (!context.scene) {\n      throw Error('The scene is not on the context.');\n    }\n    return context.scene.pointLights;\n  }, [context]);\n  var light = useMemo(function () {\n    return pointLights.add();\n  }, [pointLights]);\n  useEffect(function () {\n    pointLights.updateDiffuse(light, color);\n  }, [pointLights, light, color]);\n  useEffect(function () {\n    pointLights.updatePosition(light, position);\n  }, [pointLights, light, position]);\n  useEffect(function () {\n    return function () {\n      return pointLights.remove(light);\n    };\n  }, [pointLights, light]);\n}\nexport function usePointLightUniforms(gl, program) {\n  var context = useContext(ReactVertexContext);\n  if (!context) {\n    throw new Error(\"usePointLightUniforms \".concat(ctxErr));\n  }\n  if (!context.scene) {\n    throw Error('The scene is not on the context.');\n  }\n  useUniform3fv(gl, program, 'pointLd', context.scene.pointLights.diffuse);\n  useUniform3fv(gl, program, 'pointLp', context.scene.pointLights.position);\n}\nexport function usePointLightCount(vertSource, fragSource) {\n  var context = useContext(ReactVertexContext);\n  if (!context) {\n    throw new Error(\"usePointLightCount \".concat(ctxErr));\n  }\n  if (!context.scene) {\n    throw Error('The scene is not on the context.');\n  }\n  var memoizedVert = useMemo(function () {\n    if (!context.scene) {\n      throw Error('The scene is not on the context.');\n    }\n    var count = context.scene.pointLights.instances.length;\n    return vertSource.replace('<<NUM_POINT_LIGHTS>>', \"\".concat(count));\n  }, [vertSource, context.scene.pointLights.instances.length]);\n  var memoizedFrag = useMemo(function () {\n    if (!context.scene) {\n      throw Error('The scene is not on the context.');\n    }\n    var count = context.scene.pointLights.instances.length;\n    return fragSource.replace('<<NUM_POINT_LIGHTS>>', \"\".concat(count));\n  }, [fragSource, context.scene.pointLights.instances.length]);\n  return [memoizedVert, memoizedFrag];\n}","map":{"version":3,"names":["useContext","useMemo","useEffect","ReactVertexContext","ctxErr","useUniform3fv","white","origin","usePointLight","color","arguments","length","undefined","position","context","Error","concat","pointLights","scene","light","add","updateDiffuse","updatePosition","remove","usePointLightUniforms","gl","program","diffuse","usePointLightCount","vertSource","fragSource","memoizedVert","count","instances","replace","memoizedFrag"],"sources":["/Users/ifeoma/Documents/Documents - Ifeomaâ€™s MacBook Air/Master's/Westcliff/SPRG24/WEB 603 - Full Stack Web Development/full-stack-web-dev-wk-7/Day 1/m6-w7-d1-demo/light-orb-animation-app/node_modules/@react-vertex/core/src/hooks/lights.ts"],"sourcesContent":["import { useContext, useMemo, useEffect } from 'react'\nimport ReactVertexContext from '../Context'\nimport { ctxErr, useUniform3fv } from '..'\n\nimport { GLContext } from '../types'\n\nconst white = [1, 1, 1]\nconst origin = [0, 0, 0]\n\nexport function usePointLight(color = white, position = origin) {\n  const context = useContext(ReactVertexContext)\n\n  if (!context) {\n    throw new Error(`usePointLight ${ctxErr}`)\n  }\n\n  const pointLights = useMemo(() => {\n    if (!context.scene) {\n      throw Error('The scene is not on the context.')\n    }\n\n    return context.scene.pointLights\n  }, [context])\n\n  const light = useMemo(() => {\n    return pointLights.add()\n  }, [pointLights])\n\n  useEffect(() => {\n    pointLights.updateDiffuse(light, color)\n  }, [pointLights, light, color])\n\n  useEffect(() => {\n    pointLights.updatePosition(light, position)\n  }, [pointLights, light, position])\n\n  useEffect(() => {\n    return () => pointLights.remove(light)\n  }, [pointLights, light])\n}\n\nexport function usePointLightUniforms(gl: GLContext, program: WebGLProgram) {\n  const context = useContext(ReactVertexContext)\n\n  if (!context) {\n    throw new Error(`usePointLightUniforms ${ctxErr}`)\n  }\n\n  if (!context.scene) {\n    throw Error('The scene is not on the context.')\n  }\n\n  useUniform3fv(gl, program, 'pointLd', context.scene.pointLights.diffuse)\n  useUniform3fv(gl, program, 'pointLp', context.scene.pointLights.position)\n}\n\nexport function usePointLightCount(vertSource: string, fragSource: string) {\n  const context = useContext(ReactVertexContext)\n\n  if (!context) {\n    throw new Error(`usePointLightCount ${ctxErr}`)\n  }\n\n  if (!context.scene) {\n    throw Error('The scene is not on the context.')\n  }\n\n  const memoizedVert = useMemo(() => {\n    if (!context.scene) {\n      throw Error('The scene is not on the context.')\n    }\n\n    const count = context.scene.pointLights.instances.length\n    return vertSource.replace('<<NUM_POINT_LIGHTS>>', `${count}`)\n  }, [vertSource, context.scene.pointLights.instances.length])\n\n  const memoizedFrag = useMemo(() => {\n    if (!context.scene) {\n      throw Error('The scene is not on the context.')\n    }\n\n    const count = context.scene.pointLights.instances.length\n    return fragSource.replace('<<NUM_POINT_LIGHTS>>', `${count}`)\n  }, [fragSource, context.scene.pointLights.instances.length])\n\n  return [memoizedVert, memoizedFrag]\n}\n"],"mappings":"AAAA,SAASA,UAAT,EAAqBC,OAArB,EAA8BC,SAA9B,QAA+C,OAA/C;AACA,OAAOC,kBAAP,MAA+B,YAA/B;AACA,SAASC,MAAT,EAAiBC,aAAjB,QAAsC,IAAtC;AAIA,IAAMC,KAAK,GAAG,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAAd;AACA,IAAMC,MAAM,GAAG,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAAf;AAEA,OAAO,SAASC,aAATA,CAAA,EAAyD;EAAA,IAAlCC,KAAkC,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAA1BJ,KAA0B;EAAA,IAAnBO,QAAmB,GAAAH,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAARH,MAAQ;EAC9D,IAAMO,OAAO,GAAGd,UAAU,CAACG,kBAAD,CAA1B;EAEA,IAAI,CAACW,OAAL,EAAc;IACZ,MAAM,IAAIC,KAAJ,kBAAAC,MAAA,CAA2BZ,MAA3B,EAAN;EACD;EAED,IAAMa,WAAW,GAAGhB,OAAO,CAAC,YAAM;IAChC,IAAI,CAACa,OAAO,CAACI,KAAb,EAAoB;MAClB,MAAMH,KAAK,CAAC,kCAAD,CAAX;IACD;IAED,OAAOD,OAAO,CAACI,KAAR,CAAcD,WAArB;EACD,CAN0B,EAMxB,CAACH,OAAD,CANwB,CAA3B;EAQA,IAAMK,KAAK,GAAGlB,OAAO,CAAC,YAAM;IAC1B,OAAOgB,WAAW,CAACG,GAAZ,EAAP;EACD,CAFoB,EAElB,CAACH,WAAD,CAFkB,CAArB;EAIAf,SAAS,CAAC,YAAM;IACde,WAAW,CAACI,aAAZ,CAA0BF,KAA1B,EAAiCV,KAAjC;EACD,CAFQ,EAEN,CAACQ,WAAD,EAAcE,KAAd,EAAqBV,KAArB,CAFM,CAAT;EAIAP,SAAS,CAAC,YAAM;IACde,WAAW,CAACK,cAAZ,CAA2BH,KAA3B,EAAkCN,QAAlC;EACD,CAFQ,EAEN,CAACI,WAAD,EAAcE,KAAd,EAAqBN,QAArB,CAFM,CAAT;EAIAX,SAAS,CAAC,YAAM;IACd,OAAO;MAAA,OAAMe,WAAW,CAACM,MAAZ,CAAmBJ,KAAnB,CAAN;IAAA,CAAP;EACD,CAFQ,EAEN,CAACF,WAAD,EAAcE,KAAd,CAFM,CAAT;AAGD;AAED,OAAO,SAASK,qBAATA,CAA+BC,EAA/B,EAA8CC,OAA9C,EAAqE;EAC1E,IAAMZ,OAAO,GAAGd,UAAU,CAACG,kBAAD,CAA1B;EAEA,IAAI,CAACW,OAAL,EAAc;IACZ,MAAM,IAAIC,KAAJ,0BAAAC,MAAA,CAAmCZ,MAAnC,EAAN;EACD;EAED,IAAI,CAACU,OAAO,CAACI,KAAb,EAAoB;IAClB,MAAMH,KAAK,CAAC,kCAAD,CAAX;EACD;EAEDV,aAAa,CAACoB,EAAD,EAAKC,OAAL,EAAc,SAAd,EAAyBZ,OAAO,CAACI,KAAR,CAAcD,WAAd,CAA0BU,OAAnD,CAAb;EACAtB,aAAa,CAACoB,EAAD,EAAKC,OAAL,EAAc,SAAd,EAAyBZ,OAAO,CAACI,KAAR,CAAcD,WAAd,CAA0BJ,QAAnD,CAAb;AACD;AAED,OAAO,SAASe,kBAATA,CAA4BC,UAA5B,EAAgDC,UAAhD,EAAoE;EACzE,IAAMhB,OAAO,GAAGd,UAAU,CAACG,kBAAD,CAA1B;EAEA,IAAI,CAACW,OAAL,EAAc;IACZ,MAAM,IAAIC,KAAJ,uBAAAC,MAAA,CAAgCZ,MAAhC,EAAN;EACD;EAED,IAAI,CAACU,OAAO,CAACI,KAAb,EAAoB;IAClB,MAAMH,KAAK,CAAC,kCAAD,CAAX;EACD;EAED,IAAMgB,YAAY,GAAG9B,OAAO,CAAC,YAAM;IACjC,IAAI,CAACa,OAAO,CAACI,KAAb,EAAoB;MAClB,MAAMH,KAAK,CAAC,kCAAD,CAAX;IACD;IAED,IAAMiB,KAAK,GAAGlB,OAAO,CAACI,KAAR,CAAcD,WAAd,CAA0BgB,SAA1B,CAAoCtB,MAAlD;IACA,OAAOkB,UAAU,CAACK,OAAX,CAAmB,sBAAnB,KAAAlB,MAAA,CAA8CgB,KAA9C,EAAP;EACD,CAP2B,EAOzB,CAACH,UAAD,EAAaf,OAAO,CAACI,KAAR,CAAcD,WAAd,CAA0BgB,SAA1B,CAAoCtB,MAAjD,CAPyB,CAA5B;EASA,IAAMwB,YAAY,GAAGlC,OAAO,CAAC,YAAM;IACjC,IAAI,CAACa,OAAO,CAACI,KAAb,EAAoB;MAClB,MAAMH,KAAK,CAAC,kCAAD,CAAX;IACD;IAED,IAAMiB,KAAK,GAAGlB,OAAO,CAACI,KAAR,CAAcD,WAAd,CAA0BgB,SAA1B,CAAoCtB,MAAlD;IACA,OAAOmB,UAAU,CAACI,OAAX,CAAmB,sBAAnB,KAAAlB,MAAA,CAA8CgB,KAA9C,EAAP;EACD,CAP2B,EAOzB,CAACF,UAAD,EAAahB,OAAO,CAACI,KAAR,CAAcD,WAAd,CAA0BgB,SAA1B,CAAoCtB,MAAjD,CAPyB,CAA5B;EASA,OAAO,CAACoB,YAAD,EAAeI,YAAf,CAAP;AACD","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}